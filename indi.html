<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Independence Day!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@500&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Teko', sans-serif;
            /* === बदलाव 1: नई देशभक्ति बैकग्राउंड छवि === */
            background: url('https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.tribuneindia.com%2Fnews%2Ffeatures%2Fthe-two-martyrs-and-their-enduring-legacy-474623%2F&psig=AOvVaw1VZMMO1rq22oxUc2VXkyEG&ust=1753871413358000&source=images&cd=vfe&opi=89978449&ved=0CBIQjRxqFwoTCKimvpeZs_oDFQAAAAAdAAAAABAE') no-repeat center center;
            background-size: cover;
            position: relative;
            overflow: hidden;
        }

        /* टेक्स्ट साफ़ दिखे इसके लिए बैकग्राउंड पर गहरा ओवरले */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 20, 0.6); /* गहरा नीला ओवरले */
            z-index: 0;
        }

        #fireworks-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .container {
            position: relative;
            z-index: 2;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            animation: zoomIn 1s ease-in-out;
        }

        .card {
            max-width: 600px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.2);
            text-align: center;
            border: 5px solid;
            border-image: linear-gradient(45deg, #FF9933, #FFFFFF, #138808) 1;
        }

        #flag-img {
            width: 250px;
            height: auto;
            border-radius:5px;
        }

        .message {
            margin-top: 15px;
            font-size: 3em;
            font-weight: 500;
            line-height: 1.2;
            background: linear-gradient(90deg, #FF9933, #222222, #138808);
            background-size: 200% auto;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: animate-tricolor 4s linear infinite;
        }

        .from-text { font-size: 0.7em; color: #555; }
        .sender-name { font-size: 0.9em; color: #000080; }

        .input-container { margin-top: 25px; }

        #name-input {
            padding: 12px;
            width: 70%;
            border: 2px solid #ccc;
            border-radius: 8px;
            font-size: 18px;
            font-family: sans-serif;
            text-align: center;
        }

        #whatsapp-share-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 25px;
            background-color: #25D366;
            color: #fff;
            border: none;
            border-radius: 8px;
            font-size: 22px;
            font-family: 'Teko', sans-serif;
            letter-spacing: 1px;
            cursor: pointer;
            margin-top: 10px;
            transition: transform 0.2s, background-color 0.2s;
            gap: 10px;
        }
        #whatsapp-share-btn:hover {
            transform: scale(1.05);
            background-color: #1DAE54;
        }
        #whatsapp-share-btn svg {
            width: 28px;
            height: 28px;
            fill: #fff;
        }

        #generated-link-container { display: none; margin-top: 20px; }
        #generated-link { width: 100%; box-sizing: border-box; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 14px; word-wrap: break-word; }
        #copy-btn { padding: 8px 15px; background-color: #007bff; color: #fff; border: none; border-radius: 5px; font-size: 14px; cursor: pointer; margin-top: 10px; }

        .footer-slogan { margin-top: 25px; font-size: 1.8em; color: #000080; letter-spacing: 2px; }
        
        @keyframes zoomIn { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes animate-tricolor { to { background-position: -200% center; } }
        @keyframes firework-explode { from { transform: scale(1); opacity: 1; } to { transform: scale(3); opacity: 0; } }
    </style>
</head>
<body>
<script type="text/javascript">
	atOptions = {
		'key' : 'bea5e9e39d76a4bd495f245adf13845e',
		'format' : 'iframe',
		'height' : 50,
		'width' : 320,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/bea5e9e39d76a4bd495f245adf13845e/invoke.js"></script>

    <div id="fireworks-container"></div>

    <div class="container">
        <div class="card">
            <img id="flag-img" src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExdGVyZ3FmcmZxcXhkcXg3aDF5amtoc2JoM3I1dzJmcXJrZGlubXMwOSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/V9Ik229WOI6WSQK5KN/giphy.gif" alt="Indian Flag Animation">
            
            <div class="message" id="wishing-message">Happy Independence Day</div>

            <div class="input-container">
                <input type="text" id="name-input" placeholder="अपना नाम यहाँ लिखें">
                <button id="whatsapp-share-btn">
                    <!-- === बदलाव 2: साफ़ व्हाट्सएप लोगो === -->
                    <svg height="24" width="24" viewBox="0 0 24 24"><path d="M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 13.66 2.59 15.36 3.45 16.86L2.05 22L7.3 20.62C8.75 21.41 10.37 21.82 12.04 21.82C17.5 21.82 21.95 17.37 21.95 11.91C21.95 9.27 20.92 6.78 19.05 4.91C17.18 3.03 14.69 2 12.04 2ZM12.04 20.13C10.56 20.13 9.11 19.76 7.85 19.07L7.49 18.86L4.28 19.7L5.18 16.58L4.95 16.22C4.18 14.86 3.83 13.33 3.83 11.91C3.83 7.39 7.52 3.7 12.04 3.7C14.23 3.7 16.31 4.56 17.87 6.13C19.44 7.69 20.25 9.77 20.25 11.91C20.25 16.43 16.56 20.13 12.04 20.13ZM17.37 14.43C17.14 14.32 15.81 13.66 15.58 13.57C15.36 13.48 15.2 13.43 15.04 13.66C14.88 13.89 14.32 14.55 14.16 14.71C14 14.87 13.84 14.89 13.61 14.8C13.38 14.71 12.56 14.44 11.59 13.56C10.82 12.86 10.28 12.04 10.12 11.78C9.96 11.52 10.06 11.4 10.18 11.28C10.29 11.18 10.42 11 10.56 10.84C10.7 10.68 10.75 10.55 10.86 10.32C10.97 10.09 10.92 9.89 10.84 9.73L10.3 8.53C10.19 8.27 9.96 7.82 9.71 7.82C9.47 7.82 9.21 7.82 9.02 7.82C8.83 7.82 8.55 7.9 8.32 8.13C8.09 8.36 7.53 8.89 7.53 10.09C7.53 11.29 8.35 12.44 8.46 12.59C8.57 12.74 10.29 15.29 12.75 16.32C14.72 17.13 15.21 16.89 15.58 16.84C16.09 16.77 17.14 16.14 17.37 15.5C17.6 14.86 17.6 14.32 17.52 14.21C17.44 14.1 17.29 14.05 17.14 14.05L17.37 14.43Z" fill="#fff"></path></svg>
                    शेयर करें
                </button>
            </div>

            <div id="generated-link-container">
                <p>शेयर करने के लिए नीचे दिए गए लिंक को कॉपी करें:</p>
                <textarea id="generated-link" readonly></textarea>
                <button id="copy-btn">लिंक कॉपी करें</button>
            </div>
            
            <div class="footer-slogan">जय हिन्द | वन्दे मातरम्</div>
        </div>
    </div>

    <script>
        const fireworksContainer = document.getElementById('fireworks-container');
        function createFirework() {
            const firework = document.createElement('div');
            firework.style.position = 'absolute';
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            firework.style.left = x + 'px';
            firework.style.top = y + 'px';
            const size = Math.random() * 10 + 4;
            firework.style.width = size + 'px';
            firework.style.height = size + 'px';
            const colors = ['#FF9933', '#FFFFFF', '#138808', '#000080'];
            const color = colors[Math.floor(Math.random() * colors.length)];
            firework.style.backgroundColor = color;
            firework.style.borderRadius = '30%';
            firework.style.boxShadow = `0 0 ${size * 2}px ${color}, 0 0 ${size * 4}px ${color}, 0 0 ${size * 6}px rgba(255,255,255,0.5)`;
            firework.style.animation = `firework-explode 0.6s ease-out forwards`;
            fireworksContainer.appendChild(firework);
            setTimeout(() => { firework.remove(); }, 600);
        }
        
        // === बदलाव 3: आतिशबाजी को 5 गुना तेज किया गया ===
        // अंतराल को 50ms से घटाकर 10ms कर दिया गया है।
        setInterval(createFirework, 10);

        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const senderName = urlParams.get('name');
            if (senderName) {
                const decodedName = decodeURIComponent(senderName);
                const wishingMessage = document.getElementById('wishing-message');
                wishingMessage.innerHTML = `Happy Independence Day<br><span class="from-text">from</span> <span class="sender-name">${decodedName}</span>`;
            }
        };

        document.getElementById('whatsapp-share-btn').addEventListener('click', async function() {
            const name = document.getElementById('name-input').value.trim();
            if (name === '') {
                alert('कृपया अपना नाम दर्ज करें।');
                return;
            }

            const baseUrl = window.location.href.split('?')[0];
            const generatedLink = `${baseUrl}?name=${encodeURIComponent(name)}`;
            
            const shareData = {
                title: 'स्वतंत्रता दिवस की शुभकामनाएं!',
                text: `🇮🇳 ${name} ने आपके लिए स्वतंत्रता दिवस का एक विशेष संदेश भेजा है! 🇮🇳\n\nदेखने के लिए क्लिक करें:\n`,
                url: generatedLink,
            };

            if (navigator.share) {
                try {
                    await navigator.share(shareData);
                } catch (err) {
                    console.log(`Error: ${err}`);
                }
            } else {
                const generatedLinkContainer = document.getElementById('generated-link-container');
                const generatedLinkTextarea = document.getElementById('generated-link');
                generatedLinkTextarea.value = generatedLink;
                generatedLinkContainer.style.display = 'block';
                alert('आपका ब्राउज़र ऑटो-शेयरिंग का समर्थन नहीं करता है। कृपया लिंक को मैन्युअल रूप से कॉपी और शेयर करें।');
            }
        });

        document.getElementById('copy-btn').addEventListener('click', function() {
            const generatedLinkTextarea = document.getElementById('generated-link');
            generatedLinkTextarea.select();
            document.execCommand('copy');
            alert('लिंक कॉपी हो गया!');
        });
    </script>
<script type="text/javascript">
	atOptions = {
		'key' : 'bea5e9e39d76a4bd495f245adf13845e',
		'format' : 'iframe',
		'height' : 50,
		'width' : 320,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/bea5e9e39d76a4bd495f245adf13845e/invoke.js"></script>
</body>
</html>